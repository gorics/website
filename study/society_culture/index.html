<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2027 ì‚¬íšŒÂ·ë¬¸í™” GOD EDITION ğŸ’</title>
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Pretendard', 'Noto Sans KR', 'sans-serif'],
                        jua: ['Jua', 'sans-serif'],
                        dohyeon: ['Do Hyeon', 'sans-serif'],
                    },
                    animation: {
                        'bounce-slight': 'bounceSlight 2s infinite',
                        'slide-in': 'slideIn 0.4s ease-out forwards',
                        'pop': 'pop 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)',
                        'shimmer': 'shimmer 2s linear infinite',
                    },
                    keyframes: {
                        bounceSlight: {
                            '0%, 100%': { transform: 'translateY(-2%)' },
                            '50%': { transform: 'translateY(0)' },
                        },
                        slideIn: {
                            'from': { opacity: 0, transform: 'translateY(20px)' },
                            'to': { opacity: 1, transform: 'translateY(0)' },
                        },
                        pop: {
                            '0%': { transform: 'scale(0.9)', opacity: 0 },
                            '100%': { transform: 'scale(1)', opacity: 1 },
                        },
                        shimmer: {
                            '0%': { backgroundPosition: '-1000px 0' },
                            '100%': { backgroundPosition: '1000px 0' }
                        }
                    }
                }
            }
        }
    </script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Black+Han+Sans&family=Do+Hyeon&family=Jua&family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.8/dist/web/static/pretendard.css" />
    
    <style>
        body { -webkit-font-smoothing: antialiased; }
        .scrollbar-hide::-webkit-scrollbar { display: none; }
        .glass { background: rgba(255, 255, 255, 0.7); backdrop-filter: blur(10px); }
        .dark .glass { background: rgba(17, 24, 39, 0.7); }
        .card-3d { transition: transform 0.1s; }
        .card-3d:active { transform: scale(0.98); }
        
        /* ì•”ê¸° ë¹µ(ë¹ˆì¹¸) ìŠ¤íƒ€ì¼ */
        .blind-text { background-color: #3b82f6; color: #3b82f6; border-radius: 4px; cursor: pointer; transition: all 0.3s; padding: 0 4px; }
        .dark .blind-text { background-color: #6366f1; color: #6366f1; }
        .blind-text.revealed { background-color: transparent; color: inherit; font-weight: bold; text-decoration: underline; text-decoration-color: #3b82f6; }
        
        /* í˜•ê´‘íœ ì• ë‹ˆë©”ì´ì…˜ */
        .highlight-ani {
            background: linear-gradient(120deg, rgba(255,255,0,0) 0%, rgba(255,255,0,0) 100%);
            background-repeat: no-repeat;
            background-size: 100% 40%;
            background-position: 0 88%;
            transition: background 1s;
        }
        .highlight-ani:hover {
            background: linear-gradient(120deg, rgba(255, 226, 89, 0.5) 0%, rgba(255, 167, 81, 0.5) 100%);
            background-repeat: no-repeat;
            background-size: 100% 40%;
            background-position: 0 88%;
        }
    </style>
</head>
<body class="bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-100 transition-colors duration-300 font-sans selection:bg-indigo-200 dark:selection:bg-indigo-900">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, useMemo, useCallback } = React;
        
        // --------------------------------------------------------
        // ğŸ“š ë°ì´í„°ë² ì´ìŠ¤: ìˆ˜ëŠ¥ ì™„ë²½ ëŒ€ë¹„ ì „ë²”ìœ„ ë°ì´í„° (ì••ì¶• í•´ì œ)
        // --------------------------------------------------------
        const societyData = [
            {
                id: 1,
                title: "1. ì‚¬íšŒÂ·ë¬¸í™” í˜„ìƒì˜ íƒêµ¬",
                icon: "microscope",
                color: "from-blue-500 to-cyan-400",
                concepts: [
                    {
                        subTitle: "ìì—° í˜„ìƒ vs ì‚¬íšŒÂ·ë¬¸í™” í˜„ìƒ",
                        content: "ìì—° í˜„ìƒì€ ëª°ê°€ì¹˜ì ì´ë©° 'ì¡´ì¬ ë²•ì¹™(Sein)'ê³¼ í•„ì—°ì„±(í™•ì‹¤ì„±)ì„ ë”°ë¦…ë‹ˆë‹¤. ë³´í¸ì„±ë§Œ ì¡´ì¬í•©ë‹ˆë‹¤. ë°˜ë©´ ì‚¬íšŒÂ·ë¬¸í™” í˜„ìƒì€ ê°€ì¹˜ í•¨ì¶•ì ì´ë©° 'ë‹¹ìœ„ ë²•ì¹™(Sollen)'ê³¼ ê°œì—°ì„±(í™•ë¥ )ì„ ë”°ë¦…ë‹ˆë‹¤. ë³´í¸ì„±ê³¼ íŠ¹ìˆ˜ì„±ì´ ê³µì¡´í•©ë‹ˆë‹¤.",
                        keyPoints: ["ëª°ê°€ì¹˜ì„±", "ê°€ì¹˜í•¨ì¶•ì„±", "ì¡´ì¬ë²•ì¹™(Sein)", "ë‹¹ìœ„ë²•ì¹™(Sollen)", "í•„ì—°ì„±", "ê°œì—°ì„±"]
                    },
                    {
                        subTitle: "í˜„ìƒì„ ë³´ëŠ” ê´€ì  (ê±°ì‹œ vs ë¯¸ì‹œ)",
                        content: "ê±°ì‹œì  ê´€ì ì€ ì‚¬íšŒ êµ¬ì¡°ì™€ ì œë„ì˜ ì˜í–¥ë ¥ì„ ì¤‘ì‹œí•©ë‹ˆë‹¤. ê¸°ëŠ¥ë¡ (ì‚¬íšŒ ìœ ê¸°ì²´ì„¤, ì¡°í™”/ê· í˜•, ê¸°ë“ê¶Œ ì˜¹í˜¸ ë¹„íŒ)ê³¼ ê°ˆë“±ë¡ (ì§€ë°°/í”¼ì§€ë°°, ê°ˆë“±ì€ ë°œì „ì˜ ì›ë™ë ¥)ì´ ìˆìŠµë‹ˆë‹¤. ë¯¸ì‹œì  ê´€ì ì€ ê°œì¸ì˜ ëŠ¥ë™ì„±ê³¼ ì˜ë¯¸ ë¶€ì—¬ë¥¼ ì¤‘ì‹œí•˜ë©° ìƒì§•ì  ìƒí˜¸ ì‘ìš©ë¡ (ìƒí™© ì •ì˜, ìƒì§• í•´ì„)ì´ ëŒ€í‘œì ì…ë‹ˆë‹¤.",
                        keyPoints: ["ê¸°ëŠ¥ë¡ ", "ê°ˆë“±ë¡ ", "ìƒì§•ì  ìƒí˜¸ì‘ìš©ë¡ ", "ì‚¬íšŒ ìœ ê¸°ì²´ì„¤", "ìƒí™© ì •ì˜"]
                    },
                    {
                        subTitle: "ì—°êµ¬ ë°©ë²• (ì–‘ì  vs ì§ˆì )",
                        content: "ì–‘ì  ì—°êµ¬(ì‹¤ì¦ì )ëŠ” ë°©ë²•ë¡ ì  ì¼ì›ë¡ ì„ ì „ì œë¡œ í•˜ë©°, ê°œë…ì˜ ì¡°ì‘ì  ì •ì˜ë¥¼ í†µí•´ ì¼ë°˜í™”ì™€ ë²•ì¹™ ë°œê²¬ì„ ëª©ì ìœ¼ë¡œ í•©ë‹ˆë‹¤. ì§ˆì  ì—°êµ¬(í•´ì„ì )ëŠ” ë°©ë²•ë¡ ì  ì´ì›ë¡ ì„ ì „ì œë¡œ í•˜ë©°, ì—°êµ¬ìì˜ ì§ê´€ì  í†µì°°ê³¼ ê°ì •ì´ì…ì  ì´í•´ë¥¼ í†µí•´ ì‹¬ì¸µì  ì˜ë¯¸ë¥¼ íŒŒì•…í•©ë‹ˆë‹¤.",
                        keyPoints: ["ë°©ë²•ë¡ ì  ì¼ì›ë¡ ", "ë°©ë²•ë¡ ì  ì´ì›ë¡ ", "ê°œë…ì˜ ì¡°ì‘ì  ì •ì˜", "ì¼ë°˜í™”", "ê°ì •ì´ì…ì  ì´í•´"]
                    },
                    {
                        subTitle: "ìë£Œ ìˆ˜ì§‘ ë°©ë²•",
                        content: "ì§ˆë¬¸ì§€ë²•(ëŒ€ëŸ‰, í†µê³„ ìš©ì´), ì‹¤í—˜ë²•(ì¸ê³¼ê´€ê³„, ë³€ì¸í†µì œ), ë©´ì ‘ë²•(ì‹¬ì¸µì„±, ë¼í¬ í˜•ì„±), ì°¸ì—¬ê´€ì°°ë²•(ì‹¤ì œì„±, ë¹„ì–¸ì–´ì  ìë£Œ), ë¬¸í—Œì—°êµ¬ë²•(ì‹œê³µê°„ ì´ˆì›”, 2ì°¨ ìë£Œ).",
                        keyPoints: ["êµ¬ì¡°í™”/ë¹„êµ¬ì¡°í™”", "ë¼í¬", "ë³€ì¸ í†µì œ", "1ì°¨/2ì°¨ ìë£Œ"]
                    },
                    {
                        subTitle: "ì—°êµ¬ ìœ¤ë¦¬ì™€ íƒœë„",
                        content: "ê°ê´€ì  íƒœë„(ì œ3ì ì…ì¥), ê°œë°©ì  íƒœë„(ë¹„íŒ ìˆ˜ìš©), ìƒëŒ€ì£¼ì˜ì  íƒœë„(ë§¥ë½ ê³ ë ¤), ì„±ì°°ì  íƒœë„(ë˜ëŒì•„ë´„). ì—°êµ¬ ìœ¤ë¦¬ë¡œëŠ” í‘œì ˆ ê¸ˆì§€, ë™ì˜ êµ¬í•˜ê¸°, ìµëª…ì„± ë³´ì¥ ë“±ì´ ìˆìŠµë‹ˆë‹¤.",
                        keyPoints: ["ê°ê´€ì  íƒœë„", "ê°œë°©ì  íƒœë„", "ìƒëŒ€ì£¼ì˜ì  íƒœë„", "ì„±ì°°ì  íƒœë„"]
                    }
                ],
                quiz: [
                    { id: '1-1', type: 'OX', q: "ì‚¬íšŒÂ·ë¬¸í™” í˜„ìƒì€ 'ë°˜ë“œì‹œ ê·¸ë ‡ê²Œ ëœë‹¤'ëŠ” í•„ì—°ì„±ì˜ ë²•ì¹™ì„ ë”°ë¥¸ë‹¤.", a: false, comment: "âŒ ê°œì—°ì„±(í™•ë¥ )ì˜ ë²•ì¹™ì„ ë”°ë¦…ë‹ˆë‹¤. í•„ì—°ì„±ì€ ìì—° í˜„ìƒì…ë‹ˆë‹¤." },
                    { id: '1-2', type: 'OX', q: "ê¸°ëŠ¥ë¡ ì€ ì‚¬íšŒì˜ ê° ë¶€ë¶„ì´ ìƒí˜¸ ì˜ì¡´ì ì´ë¼ê³  ë³¸ë‹¤.", a: true, comment: "â­• ì‚¬íšŒ ìœ ê¸°ì²´ì„¤ì— ë”°ë¥´ë©´ ê° ë¶€ë¶„ì€ ì „ì²´ì˜ ìƒì¡´ì„ ìœ„í•´ ìƒí˜¸ ì˜ì¡´í•©ë‹ˆë‹¤." },
                    { id: '1-3', type: 'choice', q: "ë‹¤ìŒ ì¤‘ ì–‘ì  ì—°êµ¬ì˜ íŠ¹ì§•ì´ ì•„ë‹Œ ê²ƒì€?", options: ["ìˆ˜ì¹˜í™”ëœ ìë£Œ í™œìš©", "ë²•ì¹™ ë°œê²¬ ë° ì¼ë°˜í™”", "ë°©ë²•ë¡ ì  ì¼ì›ë¡ ", "ì—°êµ¬ìì˜ ì§ê´€ì  í†µì°°"], answer: 3, comment: "ì§ê´€ì  í†µì°°ì€ ì§ˆì  ì—°êµ¬ì˜ í•µì‹¬ì…ë‹ˆë‹¤." },
                    { id: '1-4', type: 'choice', q: "ê°€ì¥ ì—„ê²©í•œ ë³€ì¸ í†µì œê°€ í•„ìš”í•œ ìë£Œ ìˆ˜ì§‘ ë°©ë²•ì€?", options: ["ë©´ì ‘ë²•", "ì§ˆë¬¸ì§€ë²•", "ì‹¤í—˜ë²•", "ì°¸ì—¬ê´€ì°°ë²•"], answer: 2, comment: "ì‹¤í—˜ë²•ì€ ë…ë¦½ë³€ì¸ ì™¸ ì™¸ìƒë³€ì¸ì„ ì² ì €íˆ í†µì œí•´ì•¼ í•©ë‹ˆë‹¤." },
                    { id: '1-5', type: 'choice', q: "ìƒì§•ì  ìƒí˜¸ ì‘ìš©ë¡ ì˜ í•µì‹¬ ì„¤ëª…ì€?", options: ["ì‚¬íšŒ êµ¬ì¡°ê°€ ê°œì¸ì„ êµ¬ì†í•œë‹¤.", "ê°ˆë“±ì€ ì‚¬íšŒ ë°œì „ì˜ ì›ë™ë ¥ì´ë‹¤.", "ì¸ê°„ì€ ììœ¨ì„±ì„ ì§€ë‹Œ ëŠ¥ë™ì  ì¡´ì¬ë‹¤.", "ì‚¬íšŒëŠ” ê· í˜•ì„ ìœ ì§€í•˜ë ¤ëŠ” ì†ì„±ì´ ìˆë‹¤."], answer: 2, comment: "ìƒìƒë¡ ì€ ì¸ê°„ì´ ìƒí™©ì„ ì •ì˜í•˜ê³  ì˜ë¯¸ë¥¼ ë¶€ì—¬í•˜ëŠ” ì£¼ì²´ì  ì¡´ì¬ë¼ê³  ë´…ë‹ˆë‹¤." }
                ],
                terms: [
                    { term: "ëª°ê°€ì¹˜ì„±", desc: "ì£¼ê´€ì´ë‚˜ ê°€ì¹˜ê°€ ê°œì…ë˜ì§€ ì•Šì€ ìƒíƒœ (ìì—° í˜„ìƒ)" },
                    { term: "ê°œë…ì˜ ì¡°ì‘ì  ì •ì˜", desc: "ì¶”ìƒì  ê°œë…ì„ ì¸¡ì • ê°€ëŠ¥í•œ êµ¬ì²´ì  ì§€í‘œë¡œ ë°”ê¾¸ëŠ” ê²ƒ (ì–‘ì  ì—°êµ¬)" },
                    { term: "í˜¸ì† íš¨ê³¼", desc: "ì‹¤í—˜ ëŒ€ìƒìê°€ ê´€ì°°ë¨ì„ ì˜ì‹í•˜ì—¬ í–‰ë™ì´ ë‹¬ë¼ì§€ëŠ” í˜„ìƒ" },
                    { term: "ë¼í¬ (Rapport)", desc: "ì—°êµ¬ìì™€ ëŒ€ìƒì ê°„ì˜ ì‹ ë¢° ê´€ê³„ (ë©´ì ‘ë²• í•„ìˆ˜)" }
                ]
            },
            {
                id: 2,
                title: "2. ê°œì¸ê³¼ ì‚¬íšŒ êµ¬ì¡°",
                icon: "users",
                color: "from-emerald-500 to-teal-400",
                concepts: [
                    {
                        subTitle: "ì§€ìœ„ì™€ ì—­í• ",
                        content: "ê·€ì† ì§€ìœ„(ì„ ì²œì ) vs ì„±ì·¨ ì§€ìœ„(í›„ì²œì ). ì—­í• ì€ ì§€ìœ„ì— ëŒ€í•œ ì‚¬íšŒì  ê¸°ëŒ€ì´ë©°, ì‹¤ì œ ìˆ˜í–‰ì€ 'ì—­í•  í–‰ë™'ì…ë‹ˆë‹¤. ë³´ìƒì€ ì—­í•  í–‰ë™ì— ëŒ€í•´ ì£¼ì–´ì§‘ë‹ˆë‹¤. ì—­í•  ê°ˆë“±ì€ ì—­í•  ê¸´ì¥(ë‹¨ì¼ ì§€ìœ„ ë‚´)ê³¼ ì—­í•  ëª¨ìˆœ(ë³µìˆ˜ ì§€ìœ„ ê°„)ì´ ìˆìŠµë‹ˆë‹¤.",
                        keyPoints: ["ê·€ì†/ì„±ì·¨ ì§€ìœ„", "ì—­í•  í–‰ë™", "ì—­í•  ê°ˆë“±", "ì—­í•  ê¸´ì¥/ëª¨ìˆœ"]
                    },
                    {
                        subTitle: "ì‚¬íšŒí™” ê¸°ê´€",
                        content: "ì„¤ë¦½ ëª©ì : ê³µì‹ì (í•™êµ, ì—°ìˆ˜ì›) vs ë¹„ê³µì‹ì (ê°€ì¡±, ëŒ€ì¤‘ë§¤ì²´, íšŒì‚¬). ë‚´ìš© ê¹Šì´: 1ì°¨(ê°€ì¡±, ë˜ë˜ - ê¸°ì´ˆ/ì¸ê²©) vs 2ì°¨(í•™êµ, ì§ì¥ - ì „ë¬¸/ì§€ì‹).",
                        keyPoints: ["ê³µì‹ì  ì‚¬íšŒí™” ê¸°ê´€", "ë¹„ê³µì‹ì  ì‚¬íšŒí™” ê¸°ê´€", "1ì°¨/2ì°¨ ì‚¬íšŒí™” ê¸°ê´€"]
                    },
                    {
                        subTitle: "ê°œì¸ê³¼ ì‚¬íšŒì˜ ê´€ê³„",
                        content: "ì‚¬íšŒ ì‹¤ì¬ë¡ (ì‚¬íšŒ ìœ ê¸°ì²´ì„¤, ë’¤ë¥´ì¼): ì‚¬íšŒëŠ” ê°œì¸ì˜ í•© ì´ìƒì´ë©° ë…ìì  ì‹¤ì²´ì„. ì‚¬íšŒ ëª…ëª©ë¡ (ì‚¬íšŒ ê³„ì•½ì„¤, ë² ë²„): ì‚¬íšŒëŠ” ê°œì¸ì˜ í•©ì— ë¶™ì—¬ì§„ ì´ë¦„ì¼ ë¿ì„.",
                        keyPoints: ["ì‚¬íšŒ ì‹¤ì¬ë¡ ", "ì‚¬íšŒ ëª…ëª©ë¡ ", "êµ¬ì¡°ì˜ êµ¬ì†ì„±"]
                    },
                    {
                        subTitle: "ì¼íƒˆ ì´ë¡  ì™„ì „ ì •ë³µ",
                        content: "ì•„ë…¸ë¯¸(ë’¤ë¥´ì¼): ê¸‰ê²©í•œ ë³€ë™ìœ¼ë¡œ ì¸í•œ ë¬´ê·œë²” ìƒíƒœ. ì•„ë…¸ë¯¸(ë¨¸íŠ¼): ë¬¸í™”ì  ëª©í‘œì™€ ì œë„ì  ìˆ˜ë‹¨ì˜ ê´´ë¦¬. ì°¨ë³„ì  êµì œ ì´ë¡ : ì¼íƒˆìì™€ì˜ ì ‘ì´‰ì„ í†µí•´ í•™ìŠµ(ì‚¬íšŒí™”). ë‚™ì¸ ì´ë¡ : 1ì°¨ ì¼íƒˆ â†’ ì‚¬íšŒì  ë‚™ì¸ â†’ ìì•„ ì •ì²´ì„± í˜•ì„± â†’ 2ì°¨ ì¼íƒˆ(ë°˜ë³µ).",
                        keyPoints: ["ë¬´ê·œë²”(ë’¤ë¥´ì¼)", "ëª©í‘œ-ìˆ˜ë‹¨ ê´´ë¦¬(ë¨¸íŠ¼)", "í•™ìŠµ(ì°¨ë³„ì  êµì œ)", "ë‚™ì¸ê³¼ 2ì°¨ ì¼íƒˆ"]
                    },
                    {
                        subTitle: "ì‚¬íšŒ ì§‘ë‹¨ê³¼ ì¡°ì§",
                        content: "ê²°í•© ì˜ì§€: ê³µë™ ì‚¬íšŒ(ê°€ì¡±) vs ì´ìµ ì‚¬íšŒ(íšŒì‚¬, í•™êµ). ì ‘ì´‰ ë°©ì‹: 1ì°¨ ì§‘ë‹¨ vs 2ì°¨ ì§‘ë‹¨. ì†Œì†ê°: ë‚´ì§‘ë‹¨ vs ì™¸ì§‘ë‹¨. ì¤€ê±° ì§‘ë‹¨. ìë°œì  ê²°ì‚¬ì²´(ì¹œëª©, ì‹œë¯¼ë‹¨ì²´ ë“±)ëŠ” ê°€ì…/íƒˆí‡´ ììœ , 1ì°¨+2ì°¨ì  ì„±ê²© ê³µì¡´.",
                        keyPoints: ["ê³µë™/ì´ìµ ì‚¬íšŒ", "ë‚´/ì™¸ ì§‘ë‹¨", "ì¤€ê±° ì§‘ë‹¨", "ìë°œì  ê²°ì‚¬ì²´", "ê´€ë£Œì œ/íƒˆê´€ë£Œì œ"]
                    }
                ],
                quiz: [
                    { id: '2-1', type: 'OX', q: "í•™êµëŠ” ê³µì‹ì  ì‚¬íšŒí™” ê¸°ê´€ì´ì 1ì°¨ ì‚¬íšŒí™” ê¸°ê´€ì´ë‹¤.", a: false, comment: "âŒ í•™êµëŠ” ê³µì‹ì ì´ë©° '2ì°¨' ì‚¬íšŒí™” ê¸°ê´€ì…ë‹ˆë‹¤." },
                    { id: '2-2', type: 'OX', q: "ë‚™ì¸ ì´ë¡ ì€ ì¼íƒˆ í–‰ë™ì˜ ê°ê´€ì  ê¸°ì¤€ì´ ì—†ë‹¤ê³  ë³¸ë‹¤.", a: true, comment: "â­• ë‚™ì¸ ì´ë¡ ì€ ì¼íƒˆì´ í–‰ìœ„ ìì²´ì˜ ì†ì„±ì´ ì•„ë‹ˆë¼ ì‚¬íšŒì  ë°˜ì‘(ê·œì •)ì˜ ê²°ê³¼ë¼ê³  ë´…ë‹ˆë‹¤." },
                    { id: '2-3', type: 'choice', q: "ë¨¸íŠ¼ì˜ ì•„ë…¸ë¯¸ ì´ë¡ ì—ì„œ ì¼íƒˆì˜ ì›ì¸ì€?", options: ["ê·œë²”ì˜ ë¶€ì¬", "ë‚˜ìœ ì¹œêµ¬ì™€ì˜ êµì œ", "ëª©í‘œì™€ ìˆ˜ë‹¨ì˜ ë¶ˆì¼ì¹˜", "ë¶€ì •ì  ìì•„ ê°œë…"], answer: 2, comment: "ë¬¸í™”ì  ëª©í‘œëŠ” ê³µìœ í•˜ë‚˜ ì œë„ì  ìˆ˜ë‹¨ì´ ì—†ì„ ë•Œ ì¼íƒˆì´ ë°œìƒí•œë‹¤ê³  ë´…ë‹ˆë‹¤." },
                    { id: '2-4', type: 'choice', q: "ë‹¤ìŒ ì¤‘ ìë°œì  ê²°ì‚¬ì²´ì— í•´ë‹¹í•˜ëŠ” ê²ƒì€?", options: ["ê°€ì¡±", "êµ°ëŒ€", "ë…¸ë™ ì¡°í•©", "êµë„ì†Œ"], answer: 2, comment: "ë…¸ë™ ì¡°í•©, ë™í˜¸íšŒ, ì‹œë¯¼ ë‹¨ì²´ ë“±ì€ ê°€ì…ê³¼ íƒˆí‡´ê°€ ììœ ë¡œìš´ ìë°œì  ê²°ì‚¬ì²´ì…ë‹ˆë‹¤." },
                    { id: '2-5', type: 'choice', q: "ì‚¬íšŒ ì‹¤ì¬ë¡ ì— ëŒ€í•œ ì„¤ëª…ìœ¼ë¡œ ì˜³ì€ ê²ƒì€?", options: ["ì‚¬íšŒëŠ” ê°œì¸ì˜ í•©ì— ë¶ˆê³¼í•˜ë‹¤.", "ê°œì¸ì˜ ëŠ¥ë™ì„±ì„ ê°•ì¡°í•œë‹¤.", "ì‚¬íšŒ êµ¬ì¡°ê°€ ê°œì¸ì„ êµ¬ì†í•œë‹¤.", "ì‚¬íšŒ ê³„ì•½ì„¤ì„ ë°°ê²½ìœ¼ë¡œ í•œë‹¤."], answer: 2, comment: "ì‹¤ì¬ë¡ ì€ ì‚¬íšŒê°€ ë…ìì ì¸ í˜ì„ ê°€ì§€ê³  ê°œì¸ì—ê²Œ ì˜í–¥(êµ¬ì†)ì„ ë¯¸ì¹œë‹¤ê³  ë´…ë‹ˆë‹¤." }
                ],
                terms: [
                    { term: "ì˜ˆê¸° ì‚¬íšŒí™”", desc: "ë¯¸ë˜ì— ì†í•˜ê²Œ ë  ì§‘ë‹¨ì˜ í–‰ë™ ì–‘ì‹ì„ ë¯¸ë¦¬ ë°°ìš°ëŠ” ê²ƒ" },
                    { term: "ëª©ì  ì „ì¹˜", desc: "ê´€ë£Œì œì—ì„œ ìˆ˜ë‹¨(ê·œì¹™)ì´ ëª©ì ë³´ë‹¤ ì¤‘ìš”í•´ì§€ëŠ” í˜„ìƒ" },
                    { term: "ì¤€ê±° ì§‘ë‹¨", desc: "íŒë‹¨ê³¼ í–‰ë™ì˜ ê¸°ì¤€ì´ ë˜ëŠ” ì§‘ë‹¨" },
                    { term: "2ì°¨ ì¼íƒˆ", desc: "ë‚™ì¸ìœ¼ë¡œ ì¸í•´ ë¶€ì •ì  ìì•„ë¥¼ í˜•ì„±í•˜ê³  ìŠµê´€ì ìœ¼ë¡œ ë°˜ë³µí•˜ëŠ” ì¼íƒˆ" }
                ]
            },
            {
                id: 3,
                title: "3. ë¬¸í™”ì™€ ì¼ìƒìƒí™œ",
                icon: "palette",
                color: "from-violet-500 to-purple-400",
                concepts: [
                    { subTitle: "ë¬¸í™”ì˜ ì†ì„±", content: "ê³µìœ ì„±(ì˜ˆì¸¡ê°€ëŠ¥ì„±), í•™ìŠµì„±(í›„ì²œì ), ì¶•ì ì„±(ì„¸ëŒ€ ì „ìŠ¹), ë³€ë™ì„±(ë³€í™”), ì „ì²´ì„±(ìœ ê¸°ì  ì—°ê´€/ì´ì²´ì ).", keyPoints: ["ê³µìœ ì„±", "í•™ìŠµì„±", "ì¶•ì ì„±", "ë³€ë™ì„±", "ì „ì²´ì„±"] },
                    { subTitle: "ë¬¸í™”ë¥¼ ë³´ëŠ” ê´€ì ", content: "ì´ì²´ë¡ ì (ì „ì²´ ë§¥ë½), ë¹„êµë¡ ì (ê³µí†µì /ì°¨ì´ì , ë³´í¸ì„±/íŠ¹ìˆ˜ì„±), ìƒëŒ€ë¡ ì (ê·¸ ì‚¬íšŒì˜ ë§¥ë½ ì¡´ì¤‘).", keyPoints: ["ì´ì²´ë¡ ", "ë¹„êµë¡ ", "ìƒëŒ€ë¡ "] },
                    { subTitle: "ë¬¸í™” ì´í•´ íƒœë„", content: "ìë¬¸í™” ì¤‘ì‹¬ì£¼ì˜(êµ­ìˆ˜ì£¼ì˜, ê²°ì†ë ¥â†‘, ë§ˆì°°â†‘), ë¬¸í™” ì‚¬ëŒ€ì£¼ì˜(ì£¼ì²´ì„±â†“), ë¬¸í™” ìƒëŒ€ì£¼ì˜(ì¡´ì¤‘). *ê·¹ë‹¨ì  ìƒëŒ€ì£¼ì˜(ì¸ë¥˜ ë³´í¸ ê°€ì¹˜ í›¼ì†)ëŠ” ê²½ê³„.", keyPoints: ["ìë¬¸í™” ì¤‘ì‹¬ì£¼ì˜", "ë¬¸í™” ì‚¬ëŒ€ì£¼ì˜", "ë¬¸í™” ìƒëŒ€ì£¼ì˜"] },
                    { subTitle: "ë¬¸í™” ë³€ë™ ìš”ì¸", content: "ë‚´ì¬ì : ë°œëª…(1ì°¨/2ì°¨), ë°œê²¬. ì™¸ì¬ì : ì „íŒŒ(ì§ì ‘-ì‚¬ëŒ/ê°„ì ‘-ë§¤ì²´/ìê·¹-ì•„ì´ë””ì–´).", keyPoints: ["ë°œëª…", "ë°œê²¬", "ì§ì ‘/ê°„ì ‘/ìê·¹ ì „íŒŒ"] },
                    { subTitle: "ë¬¸í™” ë³€ë™ ì–‘ìƒ", content: "ë¬¸í™” ë™í™”(A+B=B), ë¬¸í™” ë³‘ì¡´(A+B=A,B), ë¬¸í™” ìœµí•©(A+B=C). ê°•ì œì /ìë°œì  ì ‘ë³€.", keyPoints: ["ë™í™”", "ë³‘ì¡´", "ìœµí•©"] }
                ],
                quiz: [
                    { id: '3-1', type: 'OX', q: "ë¬¸í™”ì˜ ì¶•ì ì„±ì€ ì¸ê°„ì´ ë™ë¬¼ê³¼ êµ¬ë³„ë˜ëŠ” ê°€ì¥ í° íŠ¹ì§•ì´ë‹¤.", a: true, comment: "â­• ì–¸ì–´ì™€ ë¬¸ìë¥¼ í†µí•´ ì§€ì‹ì„ ìŒ“ì•„ê°€ëŠ” ê²ƒì€ ì¸ê°„ë§Œì˜ íŠ¹ì§•ì…ë‹ˆë‹¤." },
                    { id: '3-2', type: 'OX', q: "ìê·¹ ì „íŒŒëŠ” ì•„ì´ë””ì–´ë§Œ ì „íŒŒë˜ì–´ ìƒˆë¡œìš´ ë°œëª…ì´ ì¼ì–´ë‚˜ëŠ” ê²ƒì´ë‹¤.", a: true, comment: "â­• ì˜ˆ: ì´ë‘, êµ¬ê²° ë“±." },
                    { id: '3-3', type: 'choice', q: "ë¹„ë¹”ë°¥ ë²„ê±°, ëŒì¹¨ëŒ€ ë“±ì€ ì–´ë–¤ ë¬¸í™” ë³€ë™ ì–‘ìƒì¸ê°€?", options: ["ë¬¸í™” ë™í™”", "ë¬¸í™” ë³‘ì¡´", "ë¬¸í™” ìœµí•©", "ë¬¸í™” ì§€ì²´"], answer: 2, comment: "ë‘ ë¬¸í™” ìš”ì†Œê°€ ê²°í•©í•˜ì—¬ ì œ3ì˜ ìƒˆë¡œìš´ ë¬¸í™”(C)ê°€ ëœ ë¬¸í™” ìœµí•©ì…ë‹ˆë‹¤." },
                    { id: '3-4', type: 'choice', q: "ë¬¼ì§ˆ ë¬¸í™”ì˜ ì†ë„ê°€ ë¹¨ë¼ ë¹„ë¬¼ì§ˆ ë¬¸í™”ê°€ ë”°ë¼ê°€ì§€ ëª»í•˜ëŠ” í˜„ìƒì€?", options: ["ê¸°ìˆ  ì§€ì²´", "ë¬¸í™” ì§€ì²´", "ì•„ë…¸ë¯¸", "ë¬¸í™” ì¶©ê²©"], answer: 1, comment: "ë°˜ëŒ€ëŠ” ê¸°ìˆ  ì§€ì²´ì…ë‹ˆë‹¤." }
                ],
                terms: [
                    { term: "ë¬¸í™” ì§€ì²´", desc: "ë¬¼ì§ˆ ë¬¸í™” ë³€ë™ ì†ë„ë¥¼ ë¹„ë¬¼ì§ˆ ë¬¸í™”ê°€ ëª» ë”°ë¼ê°" },
                    { term: "í•˜ìœ„ ë¬¸í™”", desc: "íŠ¹ì • ì§‘ë‹¨ë§Œ ê³µìœ í•˜ëŠ” ë¬¸í™” (ë°˜ë¬¸í™” í¬í•¨)" },
                    { term: "ë¬¸í™” ì œêµ­ì£¼ì˜", desc: "ê°•ëŒ€êµ­ì˜ ë¬¸í™”ê°€ ì•½ì†Œêµ­ì˜ ë¬¸í™”ë¥¼ ì§€ë°°í•˜ëŠ” í˜„ìƒ" }
                ]
            },
            {
                id: 4,
                title: "4. ì‚¬íšŒ ë¶ˆí‰ë“± í˜„ìƒ",
                icon: "scale",
                color: "from-orange-500 to-red-400",
                concepts: [
                    { subTitle: "ë¶ˆí‰ë“± ì´ë¡  (ê¸°ëŠ¥ vs ê°ˆë“±)", content: "ê¸°ëŠ¥ë¡ : ë¶ˆí‰ë“±ì€ ë¶ˆê°€í”¼í•˜ê³  í•„ìš”í•¨(ë™ê¸°ë¶€ì—¬, ì¸ì¬ë°°ì¹˜). ì°¨ë“± ë³´ìƒì€ ì •ë‹¹í•¨. ê°ˆë“±ë¡ : ë¶ˆí‰ë“±ì€ ì§€ë°°ì§‘ë‹¨ì˜ ê¸°ë“ê¶Œ ìœ ì§€ ìˆ˜ë‹¨ì„. ì² í ëŒ€ìƒ.", keyPoints: ["ì°¨ë“± ë³´ìƒ(ê¸°ëŠ¥)", "ê¸°ë“ê¶Œ ìœ ì§€(ê°ˆë“±)"] },
                    { subTitle: "ê³„ê¸‰ë¡  vs ê³„ì¸µë¡ ", content: "ê³„ê¸‰ë¡ (ë§ˆë¥´í¬ìŠ¤): ê²½ì œì  ë‹¨ì¼ ìš”ì¸, ì´ë¶„ë²•(ìœ ì‚°/ë¬´ì‚°), ë¶ˆì—°ì†ì . ê³„ì¸µë¡ (ë² ë²„): ë‹¤ì›ì  ìš”ì¸(ê²½ì œ/ì‚¬íšŒ/ì •ì¹˜), ì—°ì†ì  ì„œì—´, ì§€ìœ„ ë¶ˆì¼ì¹˜ ì„¤ëª… ê°€ëŠ¥.", keyPoints: ["ì´ë¶„ë²•(ê³„ê¸‰)", "ì§€ìœ„ ë¶ˆì¼ì¹˜(ê³„ì¸µ)"] },
                    { subTitle: "ì‚¬íšŒ ì´ë™ê³¼ ë¹ˆê³¤", content: "ìˆ˜ì§/ìˆ˜í‰, ì„¸ëŒ€ë‚´/ì„¸ëŒ€ê°„, êµ¬ì¡°ì (ì‚¬íšŒë³€ë™)/ê°œì¸ì  ì´ë™. ì ˆëŒ€ì  ë¹ˆê³¤(ìµœì €ìƒê³„ë¹„) vs ìƒëŒ€ì  ë¹ˆê³¤(ì¤‘ìœ„ì†Œë“ 50%). *ìš°ë¦¬ë‚˜ë¼ëŠ” ë‘˜ ë‹¤ ê°ê´€ì  ê¸°ì¤€ ì‚¬ìš©.", keyPoints: ["êµ¬ì¡°ì  ì´ë™", "ìƒëŒ€ì  ë¹ˆê³¤", "ê°ê´€ì  ë¹ˆê³¤ì„ "] },
                    { subTitle: "ì‚¬íšŒ ë³µì§€ ì œë„", content: "ì‚¬íšŒ ë³´í—˜(1ì°¨): ì˜ˆë°©, ê¸°ì—¬ê¸ˆ(ëŠ¥ë ¥ë³„), ê°•ì œê°€ì…, ìƒí˜¸ë¶€ì¡°. ê³µê³µ ë¶€ì¡°(2ì°¨): ì²˜ë°©, ì¡°ì„¸(êµ­ê°€ì „ì•¡), ì„ ë³„ì , ì†Œë“ì¬ë¶„ë°° íš¨ê³¼ í¼. ì‚¬íšŒ ì„œë¹„ìŠ¤(3ì°¨): ë¹„ê¸ˆì „ì  ì§€ì›.", keyPoints: ["ìƒí˜¸ë¶€ì¡°(ë³´í—˜)", "ì†Œë“ì¬ë¶„ë°°(ë¶€ì¡°)", "ë¹„ê¸ˆì „(ì„œë¹„ìŠ¤)"] }
                ],
                quiz: [
                    { id: '4-1', type: 'OX', q: "ê³„ì¸µë¡ ì€ ì§€ìœ„ ë¶ˆì¼ì¹˜ í˜„ìƒì„ ì„¤ëª…í•˜ê¸°ì— ì í•©í•˜ë‹¤.", a: true, comment: "â­• ê²½ì œì ìœ¼ë¡œ ë¶€ìœ í•´ë„ ì¡´ê²½ë°›ì§€ ëª»í•˜ëŠ” ê²½ìš° ë“±ì„ ì„¤ëª…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤." },
                    { id: '4-2', type: 'OX', q: "ì‚¬íšŒ ë³´í—˜ì€ ì†Œë“ ì¬ë¶„ë°° íš¨ê³¼ê°€ ì—†ë‹¤.", a: false, comment: "âŒ ì‚¬íšŒ ë³´í—˜ë„ ì†Œë“ ì¬ë¶„ë°° íš¨ê³¼ê°€ ìˆìœ¼ë‚˜, ê³µê³µ ë¶€ì¡°ë³´ë‹¤ ì‘ì„ ë¿ì…ë‹ˆë‹¤." },
                    { id: '4-3', type: 'choice', q: "ë¹ˆê³¤ì— ëŒ€í•œ ì„¤ëª…ìœ¼ë¡œ ì˜³ì€ ê²ƒì€?", options: ["ìƒëŒ€ì  ë¹ˆê³¤ì€ ì£¼ê´€ì  ë¹ˆê³¤ì´ë‹¤.", "ìš°ë¦¬ë‚˜ë¼ëŠ” ì¤‘ìœ„ ì†Œë“ì˜ 50%ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•œë‹¤.", "ì ˆëŒ€ì  ë¹ˆê³¤ì„  ì´ìƒì´ë©´ ìƒëŒ€ì  ë¹ˆê³¤ì´ ì•„ë‹ˆë‹¤.", "ìƒëŒ€ì  ë¹ˆê³¤ì€ ì„ ì§„êµ­ì—ëŠ” ì—†ë‹¤."], answer: 1, comment: "ìš°ë¦¬ë‚˜ë¼ëŠ” ìƒëŒ€ì  ë¹ˆê³¤ì„ (ì¤‘ìœ„ì†Œë“ 50%)ì„ ê³µì‹ ì§€í‘œë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤. ê°ê´€ì  ê¸°ì¤€ì…ë‹ˆë‹¤." },
                    { id: '4-4', type: 'choice', q: "ê°•ì œ ê°€ì…ì„ ì›ì¹™ìœ¼ë¡œ í•˜ë©° ë¯¸ë˜ì˜ ìœ„í—˜ì— ëŒ€ë¹„í•˜ëŠ” ì œë„ëŠ”?", options: ["ê³µê³µ ë¶€ì¡°", "ì‚¬íšŒ ë³´í—˜", "ì‚¬íšŒ ì„œë¹„ìŠ¤", "ìì„  ì‚¬ì—…"], answer: 1, comment: "êµ­ë¯¼ì—°ê¸ˆ, ê±´ê°•ë³´í—˜ ë“± ì‚¬íšŒ ë³´í—˜ì˜ íŠ¹ì§•ì…ë‹ˆë‹¤." }
                ],
                terms: [
                    { term: "ì§€ìœ„ ë¶ˆì¼ì¹˜", desc: "ê²½ì œ, ì‚¬íšŒ, ì •ì¹˜ì  ì§€ìœ„ ìˆ˜ì¤€ì´ ì¼ì¹˜í•˜ì§€ ì•ŠìŒ" },
                    { term: "ìœ ë¦¬ ì²œì¥", desc: "ì—¬ì„±ì´ë‚˜ ì†Œìˆ˜ìì˜ ìŠ¹ì§„ì„ ë§‰ëŠ” ë³´ì´ì§€ ì•ŠëŠ” ì¥ë²½" },
                    { term: "ìƒì‚°ì  ë³µì§€", desc: "ê·¼ë¡œë¥¼ ì¡°ê±´ìœ¼ë¡œ ë³µì§€ë¥¼ ì œê³µí•˜ëŠ” ê²ƒ (ìë¦½ ìœ ë„)" }
                ]
            },
            {
                id: 5,
                title: "5. ì‚¬íšŒ ë³€ë™ê³¼ ë¯¸ë˜",
                icon: "rocket",
                color: "from-indigo-500 to-blue-600",
                concepts: [
                    { subTitle: "ì‚¬íšŒ ë³€ë™ ì´ë¡ ", content: "ì§„í™”ë¡ : ì‚¬íšŒëŠ” ì¼ì • ë°©í–¥(ë³µì¡/ì§„ë³´)ìœ¼ë¡œ ë°œì „. ì„œêµ¬ ì¤‘ì‹¬ì , ì œêµ­ì£¼ì˜ ì˜¹í˜¸. ìˆœí™˜ë¡ : ìƒì„±-ì„±ì¥-ì‡ í‡´-ì†Œë©¸ ë°˜ë³µ. ìš´ëª…ë¡ , ë¯¸ë˜ ì˜ˆì¸¡ ê³¤ë€.", keyPoints: ["ì§„ë³´(ì§„í™”)", "ë°˜ë³µ(ìˆœí™˜)"] },
                    { subTitle: "ê·¼ëŒ€í™”ì™€ ì €ê°œë°œ", content: "ê·¼ëŒ€í™”ë¡ (ì§„í™”ë¡  ê¸°ë°˜): ì €ê°œë°œì€ ë‚´ë¶€(ì „í†µ) íƒ“. ì„œêµ¬í™”=ë°œì „. ì¢…ì†ì´ë¡ (ê°ˆë“±ë¡  ê¸°ë°˜): ì €ê°œë°œì€ ì™¸ë¶€(ì œêµ­ì£¼ì˜ ì°©ì·¨) íƒ“. ì£¼ì²´ì  ë°œì „ ê°•ì¡°.", keyPoints: ["ì„œêµ¬í™”(ê·¼ëŒ€í™”)", "ì¤‘ì‹¬ë¶€/ì£¼ë³€ë¶€(ì¢…ì†)"] },
                    { subTitle: "ì‚¬íšŒ ìš´ë™ê³¼ ì¸êµ¬ ë¬¸ì œ", content: "ì‚¬íšŒ ìš´ë™: ëšœë ·í•œ ëª©í‘œ, ì¡°ì§ì , ì§€ì†ì , ë³€í™” ì§€í–¥/ì €ì§€. ì €ì¶œì‚° ê³ ë ¹í™”: ì´ë¶€ì–‘ë¹„ ì¦ê°€. ë‹¤ë¬¸í™”: ìš©ê´‘ë¡œ(ë™í™”) vs ìƒëŸ¬ë“œë³¼(ë‹¤ë¬¸í™”/ì¡°í™”).", keyPoints: ["ì¡°ì§ì /ì§€ì†ì ", "ì´ë¶€ì–‘ë¹„", "ìƒëŸ¬ë“œë³¼"] }
                ],
                quiz: [
                    { id: '5-1', type: 'OX', q: "ìˆœí™˜ë¡ ì€ ì‚¬íšŒê°€ í•­ìƒ ë°œì „í•œë‹¤ê³  ë³¸ë‹¤.", a: false, comment: "âŒ ë°œì „ê³¼ í‡´ë³´ë¥¼ ë°˜ë³µí•œë‹¤ê³  ë´…ë‹ˆë‹¤. í•­ìƒ ë°œì „ì€ ì§„í™”ë¡ ì…ë‹ˆë‹¤." },
                    { id: '5-2', type: 'choice', q: "ì¢…ì† ì´ë¡ ì˜ í•µì‹¬ ì£¼ì¥ì€?", options: ["ì „í†µ ì‚¬íšŒì˜ ê°€ì¹˜ë¥¼ ë²„ë ¤ì•¼ í•œë‹¤.", "ì„ ì§„êµ­ê³¼ì˜ êµë¥˜ë¥¼ í™•ëŒ€í•´ì•¼ í•œë‹¤.", "ì €ê°œë°œì€ ì„¸ê³„ ìë³¸ì£¼ì˜ ì²´ì œì˜ êµ¬ì¡°ì  ëª¨ìˆœ ë•Œë¬¸ì´ë‹¤.", "ì„œêµ¬ì˜ ë°œì „ ê²½ë¡œë¥¼ ë”°ë¼ì•¼ í•œë‹¤."], answer: 2, comment: "ì„ ì§„êµ­(ì¤‘ì‹¬ë¶€)ì´ ì €ê°œë°œêµ­(ì£¼ë³€ë¶€)ì„ ì°©ì·¨í•˜ëŠ” êµ¬ì¡°ê°€ ì›ì¸ì´ë¼ê³  ë´…ë‹ˆë‹¤." }
                ],
                terms: [
                    { term: "ì•„ë…¸ë¯¸", desc: "ê¸‰ê²©í•œ ë³€ë™ìœ¼ë¡œ ì¸í•œ í˜¼ë€ (ì‚¬íšŒ ë³€ë™ íŒŒíŠ¸ì—ì„œë„ ì¤‘ìš”)" },
                    { term: "ì„¸ê³„í™”", desc: "êµ­ê°€ ê°„ ì¥ë²½ì´ ë‚®ì•„ì§€ê³  ìƒí˜¸ ì˜ì¡´ì„± ì‹¬í™”" },
                    { term: "ì§€ì† ê°€ëŠ¥í•œ ë°œì „", desc: "ë¯¸ë˜ ì„¸ëŒ€ì˜ í•„ìš”ë¥¼ í›¼ì†í•˜ì§€ ì•Šê³  í˜„ ì„¸ëŒ€ í•„ìš” ì¶©ì¡±" }
                ]
            }
        ];

        // --------------------------------------------------------
        // ğŸ› ï¸ ìœ í‹¸ë¦¬í‹° & ì»¤ìŠ¤í…€ í›…
        // --------------------------------------------------------
        const usePersistedState = (key, defaultValue) => {
            const [state, setState] = useState(() => {
                try {
                    const stored = localStorage.getItem(key);
                    return stored ? JSON.parse(stored) : defaultValue;
                } catch { return defaultValue; }
            });
            useEffect(() => {
                localStorage.setItem(key, JSON.stringify(state));
            }, [key, state]);
            return [state, setState];
        };

        const Icon = ({ name, size = 20, className }) => {
            // Lucide ì•„ì´ì½˜ ë Œë”ë§
            useEffect(() => { if (window.lucide) window.lucide.createIcons(); });
            return <i data-lucide={name} className={className} style={{ fontSize: size }}></i>;
        };

        // TTS ê¸°ëŠ¥
        const speakText = (text) => {
            if ('speechSynthesis' in window) {
                window.speechSynthesis.cancel(); // ê¸°ì¡´ ìŒì„± ì¤‘ë‹¨
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'ko-KR';
                utterance.rate = 1.0;
                window.speechSynthesis.speak(utterance);
            } else {
                alert("ì´ ë¸Œë¼ìš°ì €ëŠ” ìŒì„± ì§€ì›ì„ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
            }
        };

        // --------------------------------------------------------
        // ğŸš€ ë©”ì¸ ì•± ì»´í¬ë„ŒíŠ¸
        // --------------------------------------------------------
        const App = () => {
            const [darkMode, setDarkMode] = usePersistedState('god_mode_dark', false);
            const [userData, setUserData] = usePersistedState('god_mode_user', {
                level: 1, xp: 0, wrongAnswers: [], notes: {}, completedQuizIds: []
            });
            const [currentTab, setCurrentTab] = useState('dashboard');
            const [currentUnitId, setCurrentUnitId] = useState(1);
            const [showConfetti, setShowConfetti] = useState(false);

            useEffect(() => {
                if (darkMode) document.documentElement.classList.add('dark');
                else document.documentElement.classList.remove('dark');
            }, [darkMode]);

            // ë ˆë²¨ì—… ë¡œì§
            useEffect(() => {
                const reqXp = userData.level * 300;
                if (userData.xp >= reqXp) {
                    setUserData(p => ({ ...p, level: p.level + 1, xp: p.xp - reqXp }));
                    setShowConfetti(true);
                    setTimeout(() => setShowConfetti(false), 3000);
                    // ë ˆë²¨ì—… ì‚¬ìš´ë“œ (ì‹œê°ì  íš¨ê³¼ë¡œ ëŒ€ì²´)
                }
            }, [userData.xp]);

            const currentUnit = societyData.find(u => u.id === currentUnitId);

            // D-Day ê³„ì‚° (2027 ìˆ˜ëŠ¥: 2026ë…„ 11ì›” 19ì¼)
            const dDay = useMemo(() => {
                const targetDate = new Date('2026-11-19');
                const today = new Date();
                const diff = targetDate - today;
                return Math.ceil(diff / (1000 * 60 * 60 * 24));
            }, []);

            return (
                <div className="flex h-screen overflow-hidden bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-100 font-sans transition-colors duration-300">
                    {/* ğŸ‰ ì»¨í˜í‹° íš¨ê³¼ (ë ˆë²¨ì—…) */}
                    {showConfetti && <div className="fixed inset-0 pointer-events-none z-50 flex justify-center items-center">
                        <div className="text-6xl animate-bounce">ğŸ‰ LEVEL UP! ğŸ‰</div>
                    </div>}

                    {/* ì‚¬ì´ë“œë°” */}
                    <aside className="w-20 lg:w-72 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col z-20 shadow-2xl">
                        <div className="p-6 flex items-center gap-3 border-b border-gray-200 dark:border-gray-700">
                            <div className="w-10 h-10 bg-gradient-to-tr from-indigo-600 to-purple-600 rounded-xl flex items-center justify-center text-white font-black text-xl shadow-lg animate-pulse">G</div>
                            <h1 className="hidden lg:block font-black font-dohyeon text-2xl tracking-tighter bg-clip-text text-transparent bg-gradient-to-r from-indigo-600 to-purple-600">GOD EDITION</h1>
                        </div>

                        <div className="flex-1 overflow-y-auto p-4 space-y-2 scrollbar-hide">
                            <MenuBtn active={currentTab === 'dashboard'} onClick={() => setCurrentTab('dashboard')} icon="layout-dashboard" label="ëŒ€ì‹œë³´ë“œ" />
                            <MenuBtn active={currentTab === 'mock_exam'} onClick={() => setCurrentTab('mock_exam')} icon="file-text" label="ì‹¤ì „ ëª¨ì˜ê³ ì‚¬" isNew />
                            <MenuBtn active={currentTab === 'wrong_note'} onClick={() => setCurrentTab('wrong_note')} icon="book-x" label="ì˜¤ë‹µ ë…¸íŠ¸" badge={userData.wrongAnswers.length} />
                            
                            <div className="my-6 border-t border-gray-200 dark:border-gray-700"></div>
                            <div className="px-2 text-xs font-bold text-gray-400 mb-2 hidden lg:block uppercase tracking-wider">Chapter Study</div>
                            
                            {societyData.map(unit => (
                                <button key={unit.id} onClick={() => { setCurrentUnitId(unit.id); setCurrentTab('study'); }}
                                    className={`w-full text-left p-3 rounded-xl transition-all flex items-center gap-3 group relative overflow-hidden ${
                                        currentUnitId === unit.id && ['study', 'quiz'].includes(currentTab)
                                        ? `bg-gradient-to-r ${unit.color} text-white shadow-lg scale-105` 
                                        : 'hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-400'
                                    }`}
                                >
                                    <Icon name={unit.icon} className={currentUnitId === unit.id ? 'text-white' : 'text-gray-400 group-hover:text-indigo-500'} />
                                    <span className="hidden lg:block font-bold text-sm truncate">{unit.title}</span>
                                </button>
                            ))}
                        </div>
                        
                        <div className="p-4 border-t border-gray-200 dark:border-gray-700">
                            <button onClick={() => setDarkMode(!darkMode)} className="w-full p-3 rounded-xl bg-gray-100 dark:bg-gray-700 flex items-center justify-center gap-2 hover:bg-gray-200 dark:hover:bg-gray-600 transition">
                                <Icon name={darkMode ? "sun" : "moon"} size={18} />
                                <span className="hidden lg:inline font-bold text-sm">{darkMode ? "ë¼ì´íŠ¸ ëª¨ë“œ" : "ë‹¤í¬ ëª¨ë“œ"}</span>
                            </button>
                        </div>
                    </aside>

                    {/* ë©”ì¸ ì»¨í…ì¸  */}
                    <main className="flex-1 flex flex-col h-screen relative bg-pattern">
                        <header className="bg-white/90 dark:bg-gray-800/90 backdrop-blur-md border-b border-gray-200 dark:border-gray-700 p-4 lg:p-6 flex justify-between items-center z-10 sticky top-0 shadow-sm">
                            <div>
                                <h2 className="text-2xl font-black font-dohyeon tracking-tight">
                                    {currentTab === 'dashboard' ? `2027 ìˆ˜ëŠ¥ê¹Œì§€ D-${dDay} ğŸ”¥` : 
                                     currentTab === 'mock_exam' ? 'ì‹¤ì „ ëª¨ì˜ê³ ì‚¬ ğŸ’¯' :
                                     currentTab === 'wrong_note' ? 'ì˜¤ë‹µ ë…¸íŠ¸ ğŸ“' :
                                     currentUnit.title}
                                </h2>
                                <p className="text-xs text-gray-500 font-bold mt-1">
                                    {currentTab === 'dashboard' ? 'ì˜¤ëŠ˜ë„ 1ë“±ê¸‰ì„ í–¥í•´!' : 'Social Studies & Culture'}
                                </p>
                            </div>
                            
                            <div className="flex items-center gap-6">
                                <div className="text-right hidden md:block">
                                    <div className="text-xs font-bold text-gray-400">LV.{userData.level} ì‚¬íƒì „ì‚¬</div>
                                    <div className="w-32 h-2.5 bg-gray-200 dark:bg-gray-700 rounded-full mt-1 overflow-hidden">
                                        <div className="h-full bg-gradient-to-r from-indigo-500 to-purple-500 transition-all duration-1000" style={{ width: `${(userData.xp % 300) / 3}%` }}></div>
                                    </div>
                                </div>
                            </div>
                        </header>

                        <div className="flex-1 overflow-y-auto p-4 lg:p-8 pb-32 scroll-smooth">
                            <div className="max-w-5xl mx-auto">
                                {currentTab === 'dashboard' && <Dashboard userData={userData} societyData={societyData} dDay={dDay} />}
                                {currentTab === 'study' && <StudyUnit unit={currentUnit} userData={userData} setUserData={setUserData} />}
                                {currentTab === 'mock_exam' && <MockExam societyData={societyData} setUserData={setUserData} />}
                                {currentTab === 'wrong_note' && <WrongNote userData={userData} societyData={societyData} />}
                            </div>
                        </div>
                    </main>
                </div>
            );
        };

        // --------------------------------------------------------
        // ğŸ§© ì„œë¸Œ ì»´í¬ë„ŒíŠ¸ë“¤
        // --------------------------------------------------------

        const MenuBtn = ({ active, onClick, icon, label, badge, isNew }) => (
            <button onClick={onClick} className={`w-full p-3 lg:px-4 rounded-xl flex items-center justify-center lg:justify-between transition-all ${
                active ? 'bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 font-bold' : 'text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700'
            }`}>
                <div className="flex items-center gap-3">
                    <Icon name={icon} />
                    <span className="hidden lg:block">{label}</span>
                </div>
                <div className="flex gap-2">
                    {isNew && <span className="hidden lg:block px-1.5 py-0.5 bg-red-500 text-white text-[10px] rounded font-bold animate-pulse">NEW</span>}
                    {badge > 0 && <span className="hidden lg:flex w-5 h-5 bg-indigo-500 text-white text-xs rounded-full items-center justify-center font-bold">{badge}</span>}
                </div>
            </button>
        );

        const Dashboard = ({ userData, societyData, dDay }) => {
            const totalConcepts = societyData.reduce((acc, u) => acc + u.concepts.length, 0);
            return (
                <div className="space-y-8 animate-slide-in">
                    <div className="bg-gradient-to-r from-indigo-600 to-purple-600 rounded-3xl p-8 text-white shadow-xl relative overflow-hidden">
                        <div className="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"></div>
                        <div className="relative z-10 flex flex-col md:flex-row justify-between items-center gap-6">
                            <div>
                                <div className="text-indigo-200 font-bold mb-2">2027í•™ë…„ë„ ëŒ€í•™ìˆ˜í•™ëŠ¥ë ¥ì‹œí—˜</div>
                                <div className="text-5xl md:text-7xl font-black font-jua">D-{dDay}</div>
                                <p className="mt-4 opacity-90">"ê°€ì¥ ìœ„ëŒ€í•œ ì˜ê´‘ì€ í•œ ë²ˆë„ ì‹¤íŒ¨í•˜ì§€ ì•ŠìŒì´ ì•„ë‹ˆë¼,<br/>ì‹¤íŒ¨í•  ë•Œë§ˆë‹¤ ë‹¤ì‹œ ì¼ì–´ì„œëŠ” ë° ìˆë‹¤."</p>
                            </div>
                            <div className="bg-white/20 p-6 rounded-2xl backdrop-blur-sm text-center min-w-[200px]">
                                <div className="text-sm font-bold opacity-80">í˜„ì¬ ë ˆë²¨</div>
                                <div className="text-4xl font-black mt-1">Lv.{userData.level}</div>
                                <div className="text-sm mt-2 opacity-80">{userData.xp} XP</div>
                            </div>
                        </div>
                    </div>

                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                        <StatBox title="í•™ìŠµí•œ ë‹¨ì›" value="ì§„í–‰ì¤‘" icon="book-open" color="bg-blue-500" />
                        <StatBox title="ì˜¤ë‹µ ë…¸íŠ¸" value={`${userData.wrongAnswers.length} ë¬¸ì œ`} icon="alert-triangle" color="bg-red-500" />
                        <StatBox title="ì´ ê°œë… ìˆ˜" value={`${totalConcepts} ê°œ`} icon="database" color="bg-green-500" />
                        <StatBox title="ë‚˜ì˜ ëª©í‘œ" value="1ë“±ê¸‰" icon="trophy" color="bg-yellow-500" />
                    </div>
                </div>
            );
        };

        const StatBox = ({ title, value, icon, color }) => (
            <div className="bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 flex items-center gap-4 hover:-translate-y-1 transition-transform">
                <div className={`w-12 h-12 ${color} rounded-xl flex items-center justify-center text-white shadow-md`}>
                    <Icon name={icon} />
                </div>
                <div>
                    <div className="text-xs text-gray-500 dark:text-gray-400 font-bold uppercase">{title}</div>
                    <div className="text-xl font-black">{value}</div>
                </div>
            </div>
        );

        // --------------------------------------------------------
        // ğŸ“– í•™ìŠµ ëª¨ë“œ (Blind Mode + TTS + Memo)
        // --------------------------------------------------------
        const StudyUnit = ({ unit, userData, setUserData }) => {
            const [blindMode, setBlindMode] = useState(false);
            const [localNote, setLocalNote] = useState(userData.notes[unit.id] || "");

            const handleNoteSave = () => {
                setUserData(prev => ({
                    ...prev,
                    notes: { ...prev.notes, [unit.id]: localNote }
                }));
                alert("ë…¸íŠ¸ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ’¾");
            };

            const toggleKeyword = (e) => {
                if (blindMode) e.target.classList.toggle('revealed');
            };

            return (
                <div className="space-y-6 animate-slide-in">
                    <div className="flex flex-wrap gap-2 mb-4 sticky top-20 z-10 bg-gray-50/90 dark:bg-gray-900/90 p-2 rounded-xl backdrop-blur-sm">
                        <button onClick={() => setBlindMode(!blindMode)} 
                            className={`px-4 py-2 rounded-lg font-bold text-sm flex items-center gap-2 transition-all ${blindMode ? 'bg-indigo-600 text-white shadow-lg' : 'bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600'}`}>
                            <Icon name={blindMode ? "eye-off" : "eye"} size={16} />
                            {blindMode ? "ì•”ê¸° ëª¨ë“œ ON (í´ë¦­í•´ì„œ í™•ì¸)" : "ì•”ê¸° ëª¨ë“œ OFF"}
                        </button>
                    </div>

                    {unit.concepts.map((concept, idx) => (
                        <div key={idx} className="bg-white dark:bg-gray-800 rounded-3xl p-8 shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-md transition-all">
                            <div className="flex justify-between items-start mb-4">
                                <h3 className="text-2xl font-black text-gray-800 dark:text-gray-100 flex items-center gap-3">
                                    <span className={`w-8 h-8 rounded-lg bg-gradient-to-br ${unit.color} flex items-center justify-center text-white text-sm font-bold`}>{idx + 1}</span>
                                    {concept.subTitle}
                                </h3>
                                <button onClick={() => speakText(concept.content)} className="p-2 text-gray-400 hover:text-indigo-500 transition">
                                    <Icon name="volume-2" />
                                </button>
                            </div>
                            
                            <p className="text-lg leading-loose text-gray-600 dark:text-gray-300 mb-6 font-medium break-keep">
                                {concept.content.split(' ').map((word, i) => {
                                    // ì¤‘ìš” í‚¤ì›Œë“œ ê°ì§€ (ê°„ë‹¨í•œ ë¡œì§: ê´„í˜¸ í¬í•¨ or ê¸¸ì´ 4ì´ìƒ or í•µì‹¬ìš©ì–´ ë¦¬ìŠ¤íŠ¸ ë§¤ì¹­)
                                    const isKeyword = unit.concepts[idx].keyPoints.some(kp => word.includes(kp) || kp.includes(word.replace(/[.,()]/g, '')));
                                    if (blindMode && (isKeyword || word.includes('ë²•ì¹™') || word.includes('ë¡ '))) {
                                        return <span key={i} className="blind-text mx-1" onClick={toggleKeyword}>{word}</span>;
                                    }
                                    return <span key={i} className={isKeyword ? "highlight-ani mx-0.5 cursor-text" : "mx-0.5"}>{word}</span>;
                                })}
                            </p>

                            <div className="flex flex-wrap gap-2">
                                {concept.keyPoints.map((kp, k) => (
                                    <span key={k} className="px-3 py-1 bg-gray-100 dark:bg-gray-700 rounded-full text-xs font-bold text-gray-500 dark:text-gray-400">#{kp}</span>
                                ))}
                            </div>
                        </div>
                    ))}

                    {/* ğŸ“ ë‚˜ë§Œì˜ í•„ê¸°ì¥ */}
                    <div className="bg-white dark:bg-gray-800 rounded-3xl p-6 shadow-md border-t-4 border-yellow-400 mt-10">
                        <h3 className="text-xl font-black mb-4 flex items-center gap-2">
                            <Icon name="pen-tool" className="text-yellow-500" />
                            ë‚˜ë§Œì˜ {unit.title} í•„ê¸°ì¥
                        </h3>
                        <textarea 
                            value={localNote}
                            onChange={(e) => setLocalNote(e.target.value)}
                            placeholder="ì´ ë‹¨ì›ì—ì„œ í—·ê°ˆë¦¬ëŠ” ë‚´ìš©ì´ë‚˜ ì•”ê¸° íŒì„ ì ì–´ë³´ì„¸ìš”..."
                            className="w-full h-40 p-4 rounded-xl bg-yellow-50 dark:bg-gray-900 border border-yellow-200 dark:border-gray-700 focus:ring-2 focus:ring-yellow-400 outline-none resize-none"
                        ></textarea>
                        <div className="mt-4 flex justify-end">
                            <button onClick={handleNoteSave} className="px-6 py-2 bg-yellow-500 hover:bg-yellow-600 text-white font-bold rounded-lg transition shadow-md">
                                ì €ì¥í•˜ê¸°
                            </button>
                        </div>
                    </div>
                </div>
            );
        };

        // --------------------------------------------------------
        // ğŸ’¯ ì‹¤ì „ ëª¨ì˜ê³ ì‚¬ (ëœë¤ 20ë¬¸ì œ)
        // --------------------------------------------------------
        const MockExam = ({ societyData, setUserData }) => {
            const [status, setStatus] = useState('intro'); // intro, playing, result
            const [questions, setQuestions] = useState([]);
            const [answers, setAnswers] = useState({}); // { qId: answerIdx }
            const [result, setResult] = useState(null);
            const [timeLeft, setTimeLeft] = useState(1200); // 20ë¶„ (ì´ˆ)

            // ë¬¸ì œ ì¶œì œ
            const startExam = () => {
                const allQuiz = societyData.flatMap(u => u.quiz.map(q => ({...q, unitTitle: u.title})));
                const random20 = allQuiz.sort(() => Math.random() - 0.5).slice(0, 20);
                setQuestions(random20);
                setAnswers({});
                setStatus('playing');
                setTimeLeft(1200);
            };

            // íƒ€ì´ë¨¸
            useEffect(() => {
                if (status === 'playing' && timeLeft > 0) {
                    const timer = setInterval(() => setTimeLeft(t => t - 1), 1000);
                    return () => clearInterval(timer);
                } else if (status === 'playing' && timeLeft === 0) {
                    submitExam();
                }
            }, [status, timeLeft]);

            const handleSelect = (qIdx, optionIdx) => {
                setAnswers(prev => ({ ...prev, [qIdx]: optionIdx }));
            };

            const submitExam = () => {
                let score = 0;
                let correctCount = 0;
                const wrongList = [];

                questions.forEach((q, idx) => {
                    const userAns = answers[idx];
                    const correctAns = q.type === 'OX' ? q.a : q.answer;
                    
                    if (userAns === correctAns) {
                        score += 5;
                        correctCount++;
                    } else {
                        wrongList.push({ id: q.id, unitId: parseInt(q.id.split('-')[0]), count: 1 });
                    }
                });

                // ì˜¤ë‹µë…¸íŠ¸ ì €ì¥
                if (wrongList.length > 0) {
                    setUserData(prev => {
                        const newWrongs = [...prev.wrongAnswers];
                        wrongList.forEach(w => {
                            const exists = newWrongs.find(nw => nw.id === w.id);
                            if(exists) exists.count += 1;
                            else newWrongs.push(w);
                        });
                        return { ...prev, wrongAnswers: newWrongs, xp: prev.xp + score };
                    });
                } else {
                    setUserData(prev => ({ ...prev, xp: prev.xp + score }));
                }

                setResult({ score, correctCount });
                setStatus('result');
            };

            const formatTime = (sec) => {
                const m = Math.floor(sec / 60);
                const s = sec % 60;
                return `${m}:${s < 10 ? '0'+s : s}`;
            };

            if (status === 'intro') return (
                <div className="flex flex-col items-center justify-center h-[60vh] text-center animate-pop">
                    <div className="w-24 h-24 bg-red-100 rounded-full flex items-center justify-center mb-6">
                        <Icon name="timer" size={48} className="text-red-500" />
                    </div>
                    <h2 className="text-3xl font-black font-dohyeon mb-4">ì‹¤ì „ ëª¨ì˜ê³ ì‚¬ (20ë¬¸í•­)</h2>
                    <p className="text-gray-500 mb-8 max-w-md leading-relaxed">
                        ì „ ë²”ìœ„ì—ì„œ ëœë¤ìœ¼ë¡œ 20ë¬¸ì œê°€ ì¶œì œë©ë‹ˆë‹¤.<br/>
                        ì œí•œì‹œê°„ì€ 20ë¶„ì…ë‹ˆë‹¤. ì‹¤ì œ ìˆ˜ëŠ¥ì²˜ëŸ¼ ì§‘ì¤‘í•´ì„œ í’€ì–´ë³´ì„¸ìš”!
                    </p>
                    <button onClick={startExam} className="px-10 py-4 bg-red-500 hover:bg-red-600 text-white text-xl font-bold rounded-2xl shadow-xl transition transform hover:scale-105">
                        ì‹œí—˜ ì‹œì‘í•˜ê¸°
                    </button>
                </div>
            );

            if (status === 'result') return (
                <div className="flex flex-col items-center justify-center py-10 animate-pop">
                    <div className="text-6xl mb-4">{result.score >= 90 ? 'ğŸ†' : result.score >= 70 ? 'ğŸ‘' : 'ğŸ’ª'}</div>
                    <h2 className="text-4xl font-black mb-2">{result.score}ì </h2>
                    <p className="text-gray-500 mb-8 font-bold">20ë¬¸ì œ ì¤‘ {result.correctCount}ë¬¸ì œ ì •ë‹µ (+{result.score} XP)</p>
                    <div className="flex gap-4">
                        <button onClick={startExam} className="px-6 py-3 bg-indigo-500 text-white font-bold rounded-xl">ë‹¤ì‹œ ì‘ì‹œ</button>
                        <button onClick={() => setStatus('intro')} className="px-6 py-3 bg-gray-200 text-gray-700 font-bold rounded-xl">ë‚˜ê°€ê¸°</button>
                    </div>
                </div>
            );

            return (
                <div className="max-w-3xl mx-auto">
                    <div className="sticky top-20 z-20 bg-white/90 dark:bg-gray-900/90 backdrop-blur border-b border-gray-200 dark:border-gray-700 p-4 flex justify-between items-center mb-8 rounded-xl shadow-sm">
                        <span className="font-bold text-gray-500">ë¬¸í•­ {Object.keys(answers).length} / 20</span>
                        <div className={`text-xl font-mono font-black ${timeLeft < 60 ? 'text-red-500 animate-pulse' : 'text-gray-800 dark:text-white'}`}>
                            {formatTime(timeLeft)}
                        </div>
                        <button onClick={submitExam} className="px-4 py-2 bg-indigo-600 text-white font-bold rounded-lg text-sm hover:bg-indigo-700">ì œì¶œ</button>
                    </div>

                    <div className="space-y-8">
                        {questions.map((q, idx) => (
                            <div key={idx} className="bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700">
                                <div className="flex gap-2 mb-3">
                                    <span className="font-black text-indigo-500 text-lg">{idx + 1}.</span>
                                    <span className="text-xs font-bold bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded text-gray-500">{q.unitTitle}</span>
                                </div>
                                <h3 className="text-lg font-bold mb-6">{q.q}</h3>
                                
                                {q.type === 'OX' ? (
                                    <div className="flex gap-2">
                                        {[true, false].map((opt) => (
                                            <button key={opt.toString()} onClick={() => handleSelect(idx, opt)}
                                                className={`flex-1 py-3 rounded-xl font-black border-2 transition ${
                                                    answers[idx] === opt ? 'bg-indigo-500 border-indigo-500 text-white' : 'border-gray-200 hover:border-indigo-300'
                                                }`}>
                                                {opt ? 'O' : 'X'}
                                            </button>
                                        ))}
                                    </div>
                                ) : (
                                    <div className="space-y-2">
                                        {q.options.map((opt, optIdx) => (
                                            <button key={optIdx} onClick={() => handleSelect(idx, optIdx)}
                                                className={`w-full text-left p-3 rounded-xl border-2 transition flex gap-3 ${
                                                    answers[idx] === optIdx ? 'bg-indigo-50 border-indigo-500 text-indigo-700' : 'border-gray-100 hover:bg-gray-50'
                                                }`}>
                                                <span className={`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${answers[idx] === optIdx ? 'bg-indigo-500 text-white' : 'bg-gray-200'}`}>{optIdx+1}</span>
                                                {opt}
                                            </button>
                                        ))}
                                    </div>
                                )}
                            </div>
                        ))}
                    </div>
                </div>
            );
        };

        // --------------------------------------------------------
        // ğŸ“ ì˜¤ë‹µ ë…¸íŠ¸ (ê¸°ì¡´ ê¸°ëŠ¥ ê°•í™”)
        // --------------------------------------------------------
        const WrongNote = ({ userData, societyData }) => {
            if (userData.wrongAnswers.length === 0) return (
                <div className="flex flex-col items-center justify-center h-64 text-gray-400 animate-slide-in">
                    <Icon name="check-circle" size={64} className="mb-4 text-green-400 opacity-50" />
                    <p className="text-xl font-bold">ì™„ë²½í•©ë‹ˆë‹¤! ì˜¤ë‹µì´ ì—†ë„¤ìš”.</p>
                </div>
            );

            // ì˜¤ë‹µ ë°ì´í„° ë§¤í•‘
            const wrongList = userData.wrongAnswers.map(w => {
                const unit = societyData.find(u => u.id === w.unitId);
                const quiz = unit?.quiz.find(q => q.id === w.id);
                return { ...w, quiz, unit };
            }).filter(w => w.quiz);

            return (
                <div className="grid gap-6 animate-slide-in">
                    {wrongList.map((item, i) => (
                        <div key={i} className="bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-sm border-l-8 border-red-400 relative overflow-hidden group">
                            <div className="absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition">
                                <Icon name="x-circle" size={100} />
                            </div>
                            <div className="flex justify-between items-start mb-3 relative z-10">
                                <span className="text-xs font-black bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded text-gray-500">{item.unit.title}</span>
                                <span className="text-xs font-bold text-red-500">{item.count}íšŒ í‹€ë¦¼</span>
                            </div>
                            <h3 className="text-lg font-bold mb-4 relative z-10">{item.quiz.q}</h3>
                            <div className="bg-gray-50 dark:bg-gray-900/50 p-4 rounded-xl relative z-10">
                                <div className="flex items-center gap-2 font-bold text-indigo-500 mb-1">
                                    <Icon name="key" size={14} /> ì •ë‹µ ë° í•´ì„¤
                                </div>
                                <p className="text-gray-600 dark:text-gray-300 text-sm leading-relaxed">{item.quiz.comment}</p>
                            </div>
                        </div>
                    ))}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
